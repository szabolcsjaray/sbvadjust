<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <title>SVBadjust</title>
    <meta name="description" content="SBV adjust">
    <meta name="author" content="Szabolcs Járay">

    <link rel="stylesheet" href="css/styles.css?v=1.0">
    <script src="js/main.js"></script>
    <script src="js/cutter.js"></script>
    <script src="js/session.js?v=2"></script>
    <script src="js/myvideo.js"></script>
    <script src="js/files.js"></script>
</head>

<body onload="init();">
    <div style="display: inline-block;width: 40%;text-align: center;">
        <h1>YouTube SBV helper</h1>
        <p>Created by: Szabolcs Járay, 2020</p>
    </div>
    <div id="buttons">
        <button id="cutButton" onclick="cutScript();">Cut script</button>
        &nbsp;|&nbsp;
        <button id="loadButton" onclick="loadOriginal();">Load subs</button>
        &nbsp;|&nbsp;
        <button id="processButton" onclick="processSBV();">Process SBV</button>
        &nbsp;|&nbsp;
        <button id="saveButton" onclick="sessionSave();">Session save</button>
        <button id="saveButton" onclick="sessionLoad();">Session load</button>
    </div>
    <div id="svbfiles">
        <input id="origFileSelect" type="file" name="name" style="display: none;" />
        <button id="loadOrigSBVFileButton" onclick="loadOrigSBVFileClick();">Load</button>
        <textarea id="origSBV"  title="Original SBV file">Auto generated SBV file content comes here.</textarea>
        <textarea id="resultSVB" title="Result SBV file" readonly>It will contain the result SVB.</textarea>
        <button id="loadOrigSBVFileButton" onclick="saveResultSBV();">Save</button>
        <input id="origFileSelect" type="file" name="name" style="display: none;" />
    </div>

    <div id="container">
        <div id="blocks">
            <div class="block">
                Time: <p id="ot1">00:00:00-11:21:01</p><br>
                <textarea id="ob1" class="blockText" title="Original SBV block"></textarea>
                <textarea class="blockText resultBlock" title="Result SBV block"></textarea>
            </div>
        </div>
        <div id="text">
            <textarea id="script" title="Original script">
                The original script of the video comes here.
            </textarea>
            Stopped at this word in the block: <p id="stopped"></p> | Only red blocks:
                <input type="checkbox" id="onlyRed" onchange="changeOnlyRed();">
            <div id="ifdiv" style="text-align: center;width: 100%;height: 45%;position: relative;">
                <div id="leftDiv" style="position: relative; display:inline-block; width: 50%; height:100%;">
                    YT Video ID:
                    <input type="text" id="videoID" style="width:50%;margin-bottom:5px;">
                    <button id="loadVideoButton" onclick="loadVideo();">Load</button>
                    <iframe id="videoFrame" class="yvideo"
                        src="http://www.youtube.com/embed/kvKDUS7sYy8?rel=0&amp;controls=0&amp;hd=1&amp;showinfo=0&amp;enablejsapi=1"
                        allowfullscreen="" style="height: 87%;width: 100%;/*! text-align: center; */"
                        width="100%" height="443" frameborder="0">
                    </iframe>
              </div>
              <div style="width:45%;position:relative; display:inline-block; text-align: left;">
                Caption timing control keys:<br>
                <p style="font-weight: bold;">a</p> : start timing at the beginning of the video<br>
                <p style="font-weight: bold;">n</p> : next text block / start of next text block (after end og block)<br>
                <p style="font-weight: bold;">m</p> : end of text block, not starting the next<br>
                <p style="font-weight: bold;">l</p> : stop for correction, non matching text<br>
                <p style="font-weight: bold;">r</p> : restart after correction at given block<br>
                <p style="font-weight: bold;">q</p> : save blocks to result<br>
                <input type="text" id="keyInput" size="1">
                <button id="stopButton" onclick="pauseVideo();">Pause</button>
                <button id="startButton" onclick="startVideo();">Start</button>

            </div>
        </div>
    </div>
</body>